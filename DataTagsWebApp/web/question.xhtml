<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:c="http://java.sun.com/jsp/jstl/core"
	  xmlns:components="http://java.sun.com/jsf/composite/components"
	  xmlns:ui="http://java.sun.com/jsf/facelets">
    <h:head>
        <title>Question #{decisionNodeView.nodeId}</title>
    </h:head>
    <h:body>
		<ui:composition template="./templates/Base.xhtml">
			<ui:define name="title">Privacy Tags Question ##{decisionNodeView.nodeId}</ui:define>
					   
			<ui:define name="content">
				<c:if test="#{! decisionNodeView.areTagsComplete()}">
				<div class="row">
					<div class="col-md-7">
						<div class="panel panel-default qPanel">
							<div class="panel-heading">
								<h3><h:outputLabel value="#{decisionNodeView.node.title}" /></h3>
							</div>
							<div class="panel-body">
								<div>
									<h:outputLabel value="#{decisionNodeView.node.questionText}" />
								</div>
								<c:if test="#{decisionNodeView.node.helpText != null}">
									<div class="help"><h:outputLabel value="#{decisionNodeView.node.helpText}"/></div>
								</c:if>
								<hr />

								<div class="pull-right">
									<c:if test="#{decisionNodeView.hasYesNode()}">
										<a href="question.xhtml?nodeId=#{decisionNodeView.getYesNode().id}"
										   class="btn btn-lg btn-success">
											<span class="glyphicon glyphicon-ok-circle"></span>
											&nbsp;YES
										</a>
									</c:if>
									&nbsp;
									<c:if test="#{decisionNodeView.hasNoNode()}">
										<a href="question.xhtml?nodeId=#{decisionNodeView.getNoNode().id}"
										   class="btn btn-lg btn-warning">
											<span class="glyphicon glyphicon-remove-circle"></span>
											&nbsp;NO
										</a>
									</c:if>
								</div>
								<c:if test="#{decisionNodeView.hasParentNode()}">
									<a class="btn btn-default btn-lg"
									   href="question.xhtml?nodeId=#{decisionNodeView.getParentNode().id}">
										<span class="glyphicon glyphicon-arrow-left"></span>
										Back to Parent
									</a>
								</c:if>
							</div>
						</div>
					</div>

					<div class="col-md-5">					
						<c:if test="#{decisionNodeView.hasNode()}">
							<div id="currentTags">
								<h3>
									<span class="glyphicon glyphicon-tags"></span>&nbsp; Data Tags
								</h3>
								<components:PrivacyTagSetListDisplay tagSet="#{decisionNodeView.tags()}" />
							</div>
						</c:if>
					</div>
				</div>
			</c:if>
				<c:if test="#{decisionNodeView.areTagsComplete()}">
					<div class="row">
						<div class="col-md-12">
							<div class="alert alert-success">
							<h3><span class="glyphicon glyphicon-check"></span>
								Tagging Complete!</h3>
							</div>
							
						</div>
					</div>
					<div class="row">
						<div class="col-md-6 col-md-offset-3">
							<div class="panel panel-warning qPanel">
								<div class="panel-heading">
									<h3 class="panel-title">Direct Data Access</h3>
								</div>
								<div class="panel-body">
									<components:HarmLevelView hl="#{decisionNodeView.harmLevelForTags()}"/>
									<components:PrivacyTagSetListDisplay tagSet="#{decisionNodeView.tags()}" />
								</div>
							</div>
						</div>
					</div>
				</c:if>
			</ui:define>
		</ui:composition>

    </h:body>
</html>

